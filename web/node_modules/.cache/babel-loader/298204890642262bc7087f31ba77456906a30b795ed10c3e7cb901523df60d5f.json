{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function useDebounced(value,delay){const[debounced,setDebounced]=useState(value);useEffect(()=>{const t=setTimeout(()=>setDebounced(value),delay);return()=>clearTimeout(t);},[value,delay]);return debounced;}function App(){const[input,setInput]=useState('');const debounced=useDebounced(input,300);const[suggestions,setSuggestions]=useState([]);const[selectedIndex,setSelectedIndex]=useState(-1);const[isAnagram,setIsAnagram]=useState(null);const[other,setOther]=useState('');const[loading,setLoading]=useState(false);const[errorMessage,setErrorMessage]=useState(null);const[comboResults,setComboResults]=useState([]);const mounted=useRef(true);const inputRef=useRef(null);const comboInputRef=useRef(null);useEffect(()=>{mounted.current=true;return()=>{mounted.current=false;};},[]);// keyboard shortcuts: '/' or Ctrl/Cmd+K focus main input\nuseEffect(()=>{function onKey(e){if(e.key==='/'){if(document.activeElement===inputRef.current)return;e.preventDefault();inputRef.current&&inputRef.current.focus();}const isMac=navigator.platform.toUpperCase().indexOf('MAC')>=0;if(e.ctrlKey&&!isMac||e.metaKey&&isMac){if(e.key.toLowerCase()==='k'){e.preventDefault();inputRef.current&&inputRef.current.focus();}}}window.addEventListener('keydown',onKey);return()=>window.removeEventListener('keydown',onKey);},[]);useEffect(()=>{// reset selection whenever suggestions change\nsetSelectedIndex(-1);},[suggestions]);// when selectedIndex changes, ensure item is visible\nuseEffect(()=>{if(selectedIndex>=0){const el=document.getElementById(\"sugg-\".concat(selectedIndex));if(el&&typeof el.scrollIntoView==='function'){el.scrollIntoView({block:'nearest',inline:'nearest'});}}},[selectedIndex]);useEffect(()=>{if(!debounced||debounced.trim().length===0){setSuggestions([]);return;}setLoading(true);fetch(\"/api/suggestions?text=\".concat(encodeURIComponent(debounced),\"&limit=10\")).then(r=>r.json()).then(data=>{if(!mounted.current)return;setSuggestions(data.suggestions||[]);}).catch(()=>setSuggestions([])).finally(()=>{if(mounted.current)setLoading(false);});},[debounced]);function checkAnagram(){setErrorMessage(null);const payload={input1:(input||'').trim(),input2:(other||'').trim()};fetch('/api/areAnagrams',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)}).then(r=>{if(!r.ok)throw new Error('Server returned '+r.status);return r.json();}).then(j=>setIsAnagram(Boolean(j.areAnagrams))).catch(err=>{setIsAnagram(null);setErrorMessage('Anagram check failed: '+err.message);});}function applySuggestion(s){setInput(s?s.trim():s);setSuggestions([]);setSelectedIndex(-1);// return focus to input\nsetTimeout(()=>inputRef.current&&inputRef.current.focus(),0);}function onInputKeyDown(e){if(suggestions.length===0)return;if(e.key==='ArrowDown'){e.preventDefault();setSelectedIndex(i=>Math.min(i+1,suggestions.length-1));}else if(e.key==='ArrowUp'){e.preventDefault();setSelectedIndex(i=>Math.max(i-1,0));}else if(e.key==='Enter'){// if a suggestion is highlighted, pick it\nif(selectedIndex>=0&&selectedIndex<suggestions.length){e.preventDefault();applySuggestion(suggestions[selectedIndex]);}else{// otherwise, maybe run the check\n// fallthrough: allow form submit behavior if needed\n}}else if(e.key==='Escape'){setSuggestions([]);setSelectedIndex(-1);}else if(e.key==='Tab'){if(selectedIndex>=0&&selectedIndex<suggestions.length){applySuggestion(suggestions[selectedIndex]);// allow tab to continue focusing\n}}}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:{fontFamily:'Arial, sans-serif',padding:20},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Anagram Checker\"}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:680},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"anagram-input\",children:\"Input (type to get suggestions)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"anagram-input\",ref:inputRef,value:input,onChange:e=>setInput(e.target.value),onKeyDown:onInputKeyDown,placeholder:\"Type a word or phrase...\",\"aria-autocomplete\":\"list\",\"aria-controls\":\"suggestion-list\",\"aria-activedescendant\":selectedIndex>=0?\"sugg-\".concat(selectedIndex):undefined,style:{width:'100%',padding:'8px 10px',fontSize:16,boxSizing:'border-box'}}),loading&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:6},children:\"Loading suggestions...\"}),suggestions.length>0&&/*#__PURE__*/_jsx(\"ul\",{role:\"listbox\",id:\"suggestion-list\",style:{listStyle:'none',padding:8,marginTop:6,border:'1px solid #eee',borderRadius:6},children:suggestions.map((s,i)=>/*#__PURE__*/_jsx(\"li\",{id:\"sugg-\".concat(i),role:\"option\",\"aria-selected\":i===selectedIndex,className:\"suggestion-item \".concat(i===selectedIndex?'highlight':''),style:{padding:'6px 8px',cursor:'pointer'},onMouseEnter:()=>setSelectedIndex(i),onMouseLeave:()=>setSelectedIndex(-1),onClick:()=>applySuggestion(s),children:s},i))}),/*#__PURE__*/_jsx(\"div\",{style:{height:16}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"compare-input\",children:\"Compare with (other string)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"compare-input\",value:other,onChange:e=>setOther(e.target.value),placeholder:\"Second string to compare...\",style:{width:'100%',padding:'8px 10px',fontSize:16}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12},children:/*#__PURE__*/_jsx(\"button\",{onClick:checkAnagram,style:{padding:'8px 12px',fontSize:16},children:\"Check Anagram\"})}),isAnagram!==null&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12,padding:10,background:isAnagram?'#e6f9ec':'#ffe6e6',borderRadius:6},children:[\"Result: \",/*#__PURE__*/_jsx(\"strong\",{children:isAnagram?'Anagrams':'Not anagrams'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:24},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Quick admin sample\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetch('/api/admin/words?limit=20').then(r=>r.json()).then(d=>alert(JSON.stringify(d.rows,null,2))).catch(e=>alert('failed')),style:{padding:'6px 10px'},children:\"Show 20 words\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:24},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Find combination anagrams (single input)\"}),/*#__PURE__*/_jsx(\"input\",{ref:comboInputRef,placeholder:\"Enter letters or phrase\",style:{width:'100%',padding:'8px 10px',fontSize:16},id:\"combo-input\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"label\",{style:{marginRight:8},children:\"Max words\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"combo-maxwords\",defaultValue:2,style:{marginRight:12},children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"3\"})]}),/*#__PURE__*/_jsx(\"label\",{style:{marginRight:8},children:\"Max results\"}),/*#__PURE__*/_jsx(\"input\",{id:\"combo-maxresults\",defaultValue:20,type:\"number\",style:{width:80}}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:12},onClick:async()=>{setErrorMessage(null);const text=(document.getElementById('combo-input').value||'').trim();const maxWords=parseInt(document.getElementById('combo-maxwords').value||'2');const maxResults=parseInt(document.getElementById('combo-maxresults').value||'20');if(!text){setErrorMessage('Enter text to search for combinations');return;}try{const resp=await fetch(\"/api/combinations?text=\".concat(encodeURIComponent(text),\"&maxWords=\").concat(maxWords,\"&maxResults=\").concat(maxResults));if(!resp.ok){const txt=await resp.text();throw new Error('Server error: '+resp.status+' '+txt);}const j=await resp.json();const combos=j.combinations||[];if(combos.length){// show inline results\nsetComboResults(combos);}else{setErrorMessage('No combinations found');}}catch(err){setErrorMessage('Combination search failed: '+err.message);}},children:\"Find\"})]}),comboResults&&comboResults.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12,border:'1px solid #eee',padding:10,borderRadius:6},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Results\"}),/*#__PURE__*/_jsx(\"ul\",{style:{marginTop:8},children:comboResults.map((c,i)=>/*#__PURE__*/_jsx(\"li\",{style:{padding:'4px 6px',cursor:'pointer'},onClick:()=>{document.getElementById('combo-input').value=c;},children:c},i))})]})]}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12,color:'crimson'},children:errorMessage})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","useDebounced","value","delay","debounced","setDebounced","t","setTimeout","clearTimeout","App","input","setInput","suggestions","setSuggestions","selectedIndex","setSelectedIndex","isAnagram","setIsAnagram","other","setOther","loading","setLoading","errorMessage","setErrorMessage","comboResults","setComboResults","mounted","inputRef","comboInputRef","current","onKey","e","key","document","activeElement","preventDefault","focus","isMac","navigator","platform","toUpperCase","indexOf","ctrlKey","metaKey","toLowerCase","window","addEventListener","removeEventListener","el","getElementById","concat","scrollIntoView","block","inline","trim","length","fetch","encodeURIComponent","then","r","json","data","catch","finally","checkAnagram","payload","input1","input2","method","headers","body","JSON","stringify","ok","Error","status","j","Boolean","areAnagrams","err","message","applySuggestion","s","onInputKeyDown","i","Math","min","max","className","style","fontFamily","padding","children","maxWidth","htmlFor","id","ref","onChange","target","onKeyDown","placeholder","undefined","width","fontSize","boxSizing","marginTop","role","listStyle","border","borderRadius","map","cursor","onMouseEnter","onMouseLeave","onClick","height","background","d","alert","rows","marginRight","defaultValue","type","marginLeft","text","maxWords","parseInt","maxResults","resp","txt","combos","combinations","c","color"],"sources":["/Users/krishanshukla/IdeaProjects/testpyramid/web/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nfunction useDebounced(value, delay) {\n  const [debounced, setDebounced] = useState(value);\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(t);\n  }, [value, delay]);\n  return debounced;\n}\n\nfunction App() {\n  const [input, setInput] = useState('');\n  const debounced = useDebounced(input, 300);\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  const [isAnagram, setIsAnagram] = useState(null);\n  const [other, setOther] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [comboResults, setComboResults] = useState([]);\n  const mounted = useRef(true);\n  const inputRef = useRef(null);\n  const comboInputRef = useRef(null);\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => { mounted.current = false };\n  }, []);\n\n  // keyboard shortcuts: '/' or Ctrl/Cmd+K focus main input\n  useEffect(() => {\n    function onKey(e) {\n      if (e.key === '/') {\n        if (document.activeElement === inputRef.current) return;\n        e.preventDefault();\n        inputRef.current && inputRef.current.focus();\n      }\n      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n      if ((e.ctrlKey && !isMac) || (e.metaKey && isMac)) {\n        if (e.key.toLowerCase() === 'k') {\n          e.preventDefault();\n          inputRef.current && inputRef.current.focus();\n        }\n      }\n    }\n    window.addEventListener('keydown', onKey);\n    return () => window.removeEventListener('keydown', onKey);\n  }, []);\n\n  useEffect(() => {\n    // reset selection whenever suggestions change\n    setSelectedIndex(-1);\n  }, [suggestions]);\n\n  // when selectedIndex changes, ensure item is visible\n  useEffect(() => {\n    if (selectedIndex >= 0) {\n      const el = document.getElementById(`sugg-${selectedIndex}`);\n      if (el && typeof el.scrollIntoView === 'function') {\n        el.scrollIntoView({ block: 'nearest', inline: 'nearest' });\n      }\n    }\n  }, [selectedIndex]);\n\n  useEffect(() => {\n    if (!debounced || debounced.trim().length === 0) {\n      setSuggestions([]);\n      return;\n    }\n    setLoading(true);\n    fetch(`/api/suggestions?text=${encodeURIComponent(debounced)}&limit=10`)\n      .then(r => r.json())\n      .then(data => {\n        if (!mounted.current) return;\n        setSuggestions(data.suggestions || []);\n      })\n      .catch(() => setSuggestions([]))\n      .finally(() => { if (mounted.current) setLoading(false); });\n  }, [debounced]);\n\n  function checkAnagram() {\n    setErrorMessage(null);\n    const payload = { input1: (input||'').trim(), input2: (other||'').trim() };\n    fetch('/api/areAnagrams', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload)\n    })\n      .then(r => {\n        if (!r.ok) throw new Error('Server returned ' + r.status);\n        return r.json();\n      })\n      .then(j => setIsAnagram(Boolean(j.areAnagrams)))\n      .catch(err => { setIsAnagram(null); setErrorMessage('Anagram check failed: ' + err.message); });\n  }\n\n  function applySuggestion(s) {\n    setInput(s ? s.trim() : s);\n    setSuggestions([]);\n    setSelectedIndex(-1);\n    // return focus to input\n    setTimeout(() => inputRef.current && inputRef.current.focus(), 0);\n  }\n\n  function onInputKeyDown(e) {\n    if (suggestions.length === 0) return;\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      setSelectedIndex(i => Math.min(i + 1, suggestions.length - 1));\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      setSelectedIndex(i => Math.max(i - 1, 0));\n    } else if (e.key === 'Enter') {\n      // if a suggestion is highlighted, pick it\n      if (selectedIndex >= 0 && selectedIndex < suggestions.length) {\n        e.preventDefault();\n        applySuggestion(suggestions[selectedIndex]);\n      } else {\n        // otherwise, maybe run the check\n        // fallthrough: allow form submit behavior if needed\n      }\n    } else if (e.key === 'Escape') {\n      setSuggestions([]);\n      setSelectedIndex(-1);\n    } else if (e.key === 'Tab') {\n      if (selectedIndex >= 0 && selectedIndex < suggestions.length) {\n        applySuggestion(suggestions[selectedIndex]);\n        // allow tab to continue focusing\n      }\n    }\n  }\n\n  return (\n    <div className=\"App\" style={{ fontFamily: 'Arial, sans-serif', padding: 20 }}>\n      <h2>Anagram Checker</h2>\n      <div style={{ maxWidth: 680 }}>\n        <label htmlFor=\"anagram-input\">Input (type to get suggestions)</label>\n        <input\n          id=\"anagram-input\"\n          ref={inputRef}\n          value={input}\n          onChange={e => setInput(e.target.value)}\n          onKeyDown={onInputKeyDown}\n          placeholder=\"Type a word or phrase...\"\n          aria-autocomplete=\"list\"\n          aria-controls=\"suggestion-list\"\n          aria-activedescendant={selectedIndex >= 0 ? `sugg-${selectedIndex}` : undefined}\n          style={{ width: '100%', padding: '8px 10px', fontSize: 16, boxSizing: 'border-box' }}\n        />\n        {loading && <div style={{ marginTop: 6 }}>Loading suggestions...</div>}\n        {suggestions.length > 0 && (\n          <ul role=\"listbox\" id=\"suggestion-list\" style={{ listStyle: 'none', padding: 8, marginTop: 6, border: '1px solid #eee', borderRadius: 6 }}>\n            {suggestions.map((s, i) => (\n              <li\n                id={`sugg-${i}`}\n                key={i}\n                role=\"option\"\n                aria-selected={i === selectedIndex}\n                className={`suggestion-item ${i === selectedIndex ? 'highlight' : ''}`}\n                style={{ padding: '6px 8px', cursor: 'pointer' }}\n                onMouseEnter={() => setSelectedIndex(i)}\n                onMouseLeave={() => setSelectedIndex(-1)}\n                onClick={() => applySuggestion(s)}\n              >{s}</li>\n            ))}\n          </ul>\n        )}\n\n        <div style={{ height: 16 }} />\n        <label htmlFor=\"compare-input\">Compare with (other string)</label>\n        <input id=\"compare-input\" value={other} onChange={e => setOther(e.target.value)} placeholder=\"Second string to compare...\" style={{ width: '100%', padding: '8px 10px', fontSize: 16 }} />\n        <div style={{ marginTop: 12 }}>\n          <button onClick={checkAnagram} style={{ padding: '8px 12px', fontSize: 16 }}>Check Anagram</button>\n        </div>\n        {isAnagram !== null && (\n          <div style={{ marginTop: 12, padding: 10, background: isAnagram ? '#e6f9ec' : '#ffe6e6', borderRadius: 6 }}>\n            Result: <strong>{isAnagram ? 'Anagrams' : 'Not anagrams'}</strong>\n          </div>\n        )}\n\n        <div style={{ marginTop: 24 }}>\n          <h4>Quick admin sample</h4>\n          <button onClick={() => fetch('/api/admin/words?limit=20').then(r => r.json()).then(d => alert(JSON.stringify(d.rows, null, 2))).catch(e => alert('failed'))} style={{ padding: '6px 10px' }}>Show 20 words</button>\n        </div>\n\n        <div style={{ marginTop: 24 }}>\n          <h3>Find combination anagrams (single input)</h3>\n          <input ref={comboInputRef} placeholder=\"Enter letters or phrase\" style={{width: '100%', padding: '8px 10px', fontSize:16}} id=\"combo-input\" />\n          <div style={{marginTop:8}}>\n            <label style={{marginRight:8}}>Max words</label>\n            <select id=\"combo-maxwords\" defaultValue={2} style={{marginRight:12}}>\n              <option value={1}>1</option>\n              <option value={2}>2</option>\n              <option value={3}>3</option>\n            </select>\n            <label style={{marginRight:8}}>Max results</label>\n            <input id=\"combo-maxresults\" defaultValue={20} type=\"number\" style={{width:80}} />\n            <button style={{marginLeft:12}} onClick={async () => {\n              setErrorMessage(null);\n              const text = (document.getElementById('combo-input').value||'').trim();\n              const maxWords = parseInt(document.getElementById('combo-maxwords').value || '2');\n              const maxResults = parseInt(document.getElementById('combo-maxresults').value || '20');\n              if (!text) { setErrorMessage('Enter text to search for combinations'); return; }\n              try {\n                const resp = await fetch(`/api/combinations?text=${encodeURIComponent(text)}&maxWords=${maxWords}&maxResults=${maxResults}`);\n                if (!resp.ok) {\n                  const txt = await resp.text();\n                  throw new Error('Server error: ' + resp.status + ' ' + txt);\n                }\n                const j = await resp.json();\n                const combos = j.combinations || [];\n                if (combos.length) {\n                  // show inline results\n                  setComboResults(combos);\n                } else {\n                  setErrorMessage('No combinations found');\n                }\n              } catch (err) {\n                setErrorMessage('Combination search failed: ' + err.message);\n              }\n            }}>Find</button>\n          </div>\n          {comboResults && comboResults.length > 0 && (\n            <div style={{marginTop:12, border: '1px solid #eee', padding:10, borderRadius:6}}>\n              <strong>Results</strong>\n              <ul style={{marginTop:8}}>\n                {comboResults.map((c,i) => (\n                  <li key={i} style={{padding:'4px 6px', cursor:'pointer'}} onClick={() => { document.getElementById('combo-input').value = c; }}>\n                    {c}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n        {errorMessage && <div style={{marginTop:12,color:'crimson'}}>{errorMessage}</div>}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}