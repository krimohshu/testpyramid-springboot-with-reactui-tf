{"ast":null,"code":"var _jsxFileName = \"/Users/krishanshukla/IdeaProjects/testpyramid/web/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction useDebounced(value, delay) {\n  _s();\n  const [debounced, setDebounced] = useState(value);\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(t);\n  }, [value, delay]);\n  return debounced;\n}\n_s(useDebounced, \"33bQBlXg6j7MFSTRBeGy5/ui5G8=\");\nfunction Header() {\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"site-header\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"site-brand\",\n      children: \"AnagramPro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"site-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#features\",\n        children: \"Features\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#about\",\n        children: \"About\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n}\n_c = Header;\nfunction Footer() {\n  return /*#__PURE__*/_jsxDEV(\"footer\", {\n    className: \"site-footer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\xA9 \", new Date().getFullYear(), \" AnagramPro \\u2014 Built with care\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer-links\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: \"Privacy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: \"Terms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Footer;\nfunction App() {\n  _s2();\n  const [input, setInput] = useState('');\n  const debounced = useDebounced(input, 300);\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  const [isAnagram, setIsAnagram] = useState(null);\n  const [other, setOther] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [comboResults, setComboResults] = useState([]);\n  const mounted = useRef(true);\n  const inputRef = useRef(null);\n  const comboInputRef = useRef(null);\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n\n  // keyboard shortcuts: '/' or Ctrl/Cmd+K focus main input\n  useEffect(() => {\n    function onKey(e) {\n      if (e.key === '/') {\n        if (document.activeElement === inputRef.current) return;\n        e.preventDefault();\n        inputRef.current && inputRef.current.focus();\n      }\n      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n      if (e.ctrlKey && !isMac || e.metaKey && isMac) {\n        if (e.key.toLowerCase() === 'k') {\n          e.preventDefault();\n          inputRef.current && inputRef.current.focus();\n        }\n      }\n    }\n    window.addEventListener('keydown', onKey);\n    return () => window.removeEventListener('keydown', onKey);\n  }, []);\n  useEffect(() => {\n    // reset selection whenever suggestions change\n    setSelectedIndex(-1);\n  }, [suggestions]);\n\n  // when selectedIndex changes, ensure item is visible\n  useEffect(() => {\n    if (selectedIndex >= 0) {\n      const el = document.getElementById(`sugg-${selectedIndex}`);\n      if (el && typeof el.scrollIntoView === 'function') {\n        el.scrollIntoView({\n          block: 'nearest',\n          inline: 'nearest'\n        });\n      }\n    }\n  }, [selectedIndex]);\n  useEffect(() => {\n    if (!debounced || debounced.trim().length === 0) {\n      setSuggestions([]);\n      return;\n    }\n    setLoading(true);\n    fetch(`/api/suggestions?text=${encodeURIComponent(debounced)}&limit=10`).then(r => r.json()).then(data => {\n      if (!mounted.current) return;\n      setSuggestions(data.suggestions || []);\n    }).catch(() => setSuggestions([])).finally(() => {\n      if (mounted.current) setLoading(false);\n    });\n  }, [debounced]);\n  function checkAnagram() {\n    setErrorMessage(null);\n    const payload = {\n      input1: (input || '').trim(),\n      input2: (other || '').trim()\n    };\n    fetch('/api/areAnagrams', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    }).then(r => {\n      if (!r.ok) throw new Error('Server returned ' + r.status);\n      return r.json();\n    }).then(j => setIsAnagram(Boolean(j.areAnagrams))).catch(err => {\n      setIsAnagram(null);\n      setErrorMessage('Anagram check failed: ' + err.message);\n    });\n  }\n  function applySuggestion(s) {\n    setInput(s ? s.trim() : s);\n    setSuggestions([]);\n    setSelectedIndex(-1);\n    // return focus to input\n    setTimeout(() => inputRef.current && inputRef.current.focus(), 0);\n  }\n  function onInputKeyDown(e) {\n    if (suggestions.length === 0) return;\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      setSelectedIndex(i => Math.min(i + 1, suggestions.length - 1));\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      setSelectedIndex(i => Math.max(i - 1, 0));\n    } else if (e.key === 'Enter') {\n      // if a suggestion is highlighted, pick it\n      if (selectedIndex >= 0 && selectedIndex < suggestions.length) {\n        e.preventDefault();\n        applySuggestion(suggestions[selectedIndex]);\n      } else {\n        // otherwise, maybe run the check\n        // fallthrough: allow form submit behavior if needed\n      }\n    } else if (e.key === 'Escape') {\n      setSuggestions([]);\n      setSelectedIndex(-1);\n    } else if (e.key === 'Tab') {\n      if (selectedIndex >= 0 && selectedIndex < suggestions.length) {\n        applySuggestion(suggestions[selectedIndex]);\n        // allow tab to continue focusing\n      }\n    }\n  }\n  async function findCombinations() {\n    var _comboInputRef$curren;\n    setErrorMessage(null);\n    setComboResults([]);\n    const text = (((_comboInputRef$curren = comboInputRef.current) === null || _comboInputRef$curren === void 0 ? void 0 : _comboInputRef$curren.value) || '').trim();\n    const maxWords = parseInt(document.getElementById('combo-maxwords').value || '2');\n    const maxResults = parseInt(document.getElementById('combo-maxresults').value || '20');\n    if (!text) {\n      setErrorMessage('Enter text to search for combinations');\n      return;\n    }\n    try {\n      const resp = await fetch(`/api/combinations?text=${encodeURIComponent(text)}&maxWords=${maxWords}&maxResults=${maxResults}`);\n      if (!resp.ok) {\n        const txt = await resp.text();\n        throw new Error('Server error: ' + resp.status + ' ' + txt);\n      }\n      const j = await resp.json();\n      const combos = j.combinations || [];\n      if (combos.length) setComboResults(combos);else setErrorMessage('No combinations found');\n    } catch (err) {\n      setErrorMessage('Combination search failed: ' + err.message);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-root\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"hero\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hero-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hero-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"AnagramPro\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"lead\",\n              children: \"Instant anagram checks and smart suggestions. Fast, accurate, and production-ready.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: \"Input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"anagram-input\",\n                ref: inputRef,\n                className: \"input\",\n                value: input,\n                onChange: e => setInput(e.target.value),\n                onKeyDown: onInputKeyDown,\n                placeholder: \"Type a word or phrase...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn primary\",\n                onClick: () => {\n                  setOther('');\n                  setIsAnagram(null);\n                  setComboResults([]);\n                },\n                children: \"Clear\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"muted\",\n              children: \"Loading suggestions...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 27\n            }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"suggestions-list\",\n              role: \"listbox\",\n              id: \"suggestion-list\",\n              children: suggestions.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                id: `sugg-${i}`,\n                role: \"option\",\n                \"aria-selected\": i === selectedIndex,\n                className: `suggestion-item ${i === selectedIndex ? 'highlight' : ''}`,\n                onMouseEnter: () => setSelectedIndex(i),\n                onMouseLeave: () => setSelectedIndex(-1),\n                onClick: () => applySuggestion(s),\n                children: s\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"compare-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Compare with\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"compare-input\",\n                className: \"input\",\n                value: other,\n                onChange: e => setOther(e.target.value),\n                placeholder: \"Second string to compare...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn\",\n                  onClick: checkAnagram,\n                  children: \"Check Anagram\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `badge ${isAnagram ? 'ok' : isAnagram === null ? 'muted' : 'bad'}`,\n                  children: isAnagram === null ? '—' : isAnagram ? 'Anagrams' : 'Not anagrams'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), isAnagram === null && errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error\",\n                children: errorMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 56\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n            className: \"hero-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Combination Finder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"muted\",\n                children: \"Provide letters and find 1\\u20133 word combinations that use all letters.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                ref: comboInputRef,\n                id: \"combo-input\",\n                className: \"input\",\n                placeholder: \"Enter letters or phrase\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Max words\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"combo-maxwords\",\n                  defaultValue: 2,\n                  className: \"select\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 1,\n                    children: \"1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 83\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 2,\n                    children: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 111\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 3,\n                    children: \"3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 139\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Max results\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"combo-maxresults\",\n                  defaultValue: 10,\n                  type: \"number\",\n                  className: \"select\",\n                  style: {\n                    width: 80\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"actions\",\n                style: {\n                  marginTop: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn primary\",\n                  onClick: findCombinations,\n                  children: \"Find\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn\",\n                  onClick: () => {\n                    comboInputRef.current.value = '';\n                    setComboResults([]);\n                    setErrorMessage(null);\n                  },\n                  children: \"Reset\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), comboResults && comboResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"combo-results\",\n                children: comboResults.map((c, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"chip\",\n                  onClick: () => {\n                    setInput(c);\n                    setComboResults([]);\n                    window.scrollTo({\n                      top: 0,\n                      behavior: 'smooth'\n                    });\n                  },\n                  title: \"Apply to main input\",\n                  children: c\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error\",\n                style: {\n                  marginTop: 8\n                },\n                children: errorMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Quick Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                onClick: () => fetch('/api/admin/words?limit=20').then(r => r.json()).then(d => alert(JSON.stringify(d.rows, null, 2))).catch(() => alert('failed')),\n                children: \"Show 20 words\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"h4XaYW8Mtk7wqSCA7ef74qvHuLU=\", false, function () {\n  return [useDebounced];\n});\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"Footer\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","useDebounced","value","delay","_s","debounced","setDebounced","t","setTimeout","clearTimeout","Header","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","_c","Footer","Date","getFullYear","_c2","App","_s2","input","setInput","suggestions","setSuggestions","selectedIndex","setSelectedIndex","isAnagram","setIsAnagram","other","setOther","loading","setLoading","errorMessage","setErrorMessage","comboResults","setComboResults","mounted","inputRef","comboInputRef","current","onKey","e","key","document","activeElement","preventDefault","focus","isMac","navigator","platform","toUpperCase","indexOf","ctrlKey","metaKey","toLowerCase","window","addEventListener","removeEventListener","el","getElementById","scrollIntoView","block","inline","trim","length","fetch","encodeURIComponent","then","r","json","data","catch","finally","checkAnagram","payload","input1","input2","method","headers","body","JSON","stringify","ok","Error","status","j","Boolean","areAnagrams","err","message","applySuggestion","s","onInputKeyDown","i","Math","min","max","findCombinations","_comboInputRef$curren","text","maxWords","parseInt","maxResults","resp","txt","combos","combinations","id","ref","onChange","target","onKeyDown","placeholder","onClick","role","map","onMouseEnter","onMouseLeave","defaultValue","type","style","width","marginTop","c","scrollTo","top","behavior","title","d","alert","rows","_c3","$RefreshReg$"],"sources":["/Users/krishanshukla/IdeaProjects/testpyramid/web/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nfunction useDebounced(value, delay) {\n  const [debounced, setDebounced] = useState(value);\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(t);\n  }, [value, delay]);\n  return debounced;\n}\n\nfunction Header() {\n  return (\n    <header className=\"site-header\">\n      <div className=\"site-brand\">AnagramPro</div>\n      <nav className=\"site-nav\">\n        <a href=\"#\">Home</a>\n        <a href=\"#features\">Features</a>\n        <a href=\"#about\">About</a>\n      </nav>\n    </header>\n  );\n}\n\nfunction Footer() {\n  return (\n    <footer className=\"site-footer\">\n      <div>© {new Date().getFullYear()} AnagramPro — Built with care</div>\n      <div className=\"footer-links\">\n        <a href=\"#\">Privacy</a>\n        <a href=\"#\">Terms</a>\n        <a href=\"#\">Contact</a>\n      </div>\n    </footer>\n  );\n}\n\nfunction App() {\n  const [input, setInput] = useState('');\n  const debounced = useDebounced(input, 300);\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  const [isAnagram, setIsAnagram] = useState(null);\n  const [other, setOther] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [comboResults, setComboResults] = useState([]);\n  const mounted = useRef(true);\n  const inputRef = useRef(null);\n  const comboInputRef = useRef(null);\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => { mounted.current = false };\n  }, []);\n\n  // keyboard shortcuts: '/' or Ctrl/Cmd+K focus main input\n  useEffect(() => {\n    function onKey(e) {\n      if (e.key === '/') {\n        if (document.activeElement === inputRef.current) return;\n        e.preventDefault();\n        inputRef.current && inputRef.current.focus();\n      }\n      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n      if ((e.ctrlKey && !isMac) || (e.metaKey && isMac)) {\n        if (e.key.toLowerCase() === 'k') {\n          e.preventDefault();\n          inputRef.current && inputRef.current.focus();\n        }\n      }\n    }\n    window.addEventListener('keydown', onKey);\n    return () => window.removeEventListener('keydown', onKey);\n  }, []);\n\n  useEffect(() => {\n    // reset selection whenever suggestions change\n    setSelectedIndex(-1);\n  }, [suggestions]);\n\n  // when selectedIndex changes, ensure item is visible\n  useEffect(() => {\n    if (selectedIndex >= 0) {\n      const el = document.getElementById(`sugg-${selectedIndex}`);\n      if (el && typeof el.scrollIntoView === 'function') {\n        el.scrollIntoView({ block: 'nearest', inline: 'nearest' });\n      }\n    }\n  }, [selectedIndex]);\n\n  useEffect(() => {\n    if (!debounced || debounced.trim().length === 0) {\n      setSuggestions([]);\n      return;\n    }\n    setLoading(true);\n    fetch(`/api/suggestions?text=${encodeURIComponent(debounced)}&limit=10`)\n      .then(r => r.json())\n      .then(data => {\n        if (!mounted.current) return;\n        setSuggestions(data.suggestions || []);\n      })\n      .catch(() => setSuggestions([]))\n      .finally(() => { if (mounted.current) setLoading(false); });\n  }, [debounced]);\n\n  function checkAnagram() {\n    setErrorMessage(null);\n    const payload = { input1: (input||'').trim(), input2: (other||'').trim() };\n    fetch('/api/areAnagrams', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload)\n    })\n      .then(r => {\n        if (!r.ok) throw new Error('Server returned ' + r.status);\n        return r.json();\n      })\n      .then(j => setIsAnagram(Boolean(j.areAnagrams)))\n      .catch(err => { setIsAnagram(null); setErrorMessage('Anagram check failed: ' + err.message); });\n  }\n\n  function applySuggestion(s) {\n    setInput(s ? s.trim() : s);\n    setSuggestions([]);\n    setSelectedIndex(-1);\n    // return focus to input\n    setTimeout(() => inputRef.current && inputRef.current.focus(), 0);\n  }\n\n  function onInputKeyDown(e) {\n    if (suggestions.length === 0) return;\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      setSelectedIndex(i => Math.min(i + 1, suggestions.length - 1));\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      setSelectedIndex(i => Math.max(i - 1, 0));\n    } else if (e.key === 'Enter') {\n      // if a suggestion is highlighted, pick it\n      if (selectedIndex >= 0 && selectedIndex < suggestions.length) {\n        e.preventDefault();\n        applySuggestion(suggestions[selectedIndex]);\n      } else {\n        // otherwise, maybe run the check\n        // fallthrough: allow form submit behavior if needed\n      }\n    } else if (e.key === 'Escape') {\n      setSuggestions([]);\n      setSelectedIndex(-1);\n    } else if (e.key === 'Tab') {\n      if (selectedIndex >= 0 && selectedIndex < suggestions.length) {\n        applySuggestion(suggestions[selectedIndex]);\n        // allow tab to continue focusing\n      }\n    }\n  }\n\n  async function findCombinations() {\n    setErrorMessage(null); setComboResults([]);\n    const text = (comboInputRef.current?.value || '').trim();\n    const maxWords = parseInt(document.getElementById('combo-maxwords').value || '2');\n    const maxResults = parseInt(document.getElementById('combo-maxresults').value || '20');\n    if (!text) { setErrorMessage('Enter text to search for combinations'); return; }\n    try {\n      const resp = await fetch(`/api/combinations?text=${encodeURIComponent(text)}&maxWords=${maxWords}&maxResults=${maxResults}`);\n      if (!resp.ok) { const txt = await resp.text(); throw new Error('Server error: ' + resp.status + ' ' + txt); }\n      const j = await resp.json(); const combos = j.combinations || [];\n      if (combos.length) setComboResults(combos);\n      else setErrorMessage('No combinations found');\n    } catch (err) { setErrorMessage('Combination search failed: ' + err.message); }\n  }\n\n  return (\n    <div className=\"app-root\">\n      <Header />\n      <main className=\"content\">\n        <section className=\"hero\">\n          <div className=\"hero-card\">\n            <div className=\"hero-left\">\n              <h1>AnagramPro</h1>\n              <p className=\"lead\">Instant anagram checks and smart suggestions. Fast, accurate, and production-ready.</p>\n\n              <label className=\"label\">Input</label>\n              <div className=\"input-row\">\n                <input id=\"anagram-input\" ref={inputRef} className=\"input\" value={input} onChange={e => setInput(e.target.value)} onKeyDown={onInputKeyDown} placeholder=\"Type a word or phrase...\" />\n                <button className=\"btn primary\" onClick={() => { setOther(''); setIsAnagram(null); setComboResults([]); }}>Clear</button>\n              </div>\n\n              {loading && <div className=\"muted\">Loading suggestions...</div>}\n              {suggestions.length > 0 && (\n                <ul className=\"suggestions-list\" role=\"listbox\" id=\"suggestion-list\">\n                  {suggestions.map((s, i) => (\n                    <li id={`sugg-${i}`} key={i} role=\"option\" aria-selected={i === selectedIndex} className={`suggestion-item ${i === selectedIndex ? 'highlight' : ''}`} onMouseEnter={() => setSelectedIndex(i)} onMouseLeave={() => setSelectedIndex(-1)} onClick={() => applySuggestion(s)}>\n                      {s}\n                    </li>\n                  ))}\n                </ul>\n              )}\n\n              <div className=\"compare-block\">\n                <label className=\"label\">Compare with</label>\n                <input id=\"compare-input\" className=\"input\" value={other} onChange={e => setOther(e.target.value)} placeholder=\"Second string to compare...\" />\n                <div className=\"actions\">\n                  <button className=\"btn\" onClick={checkAnagram}>Check Anagram</button>\n                  <div className={`badge ${isAnagram ? 'ok' : isAnagram === null ? 'muted' : 'bad'}`}>{isAnagram === null ? '—' : (isAnagram ? 'Anagrams' : 'Not anagrams')}</div>\n                </div>\n                {isAnagram === null && errorMessage && <div className=\"error\">{errorMessage}</div>}\n              </div>\n\n            </div>\n\n            <aside className=\"hero-right\">\n              <div className=\"card\">\n                <h3>Combination Finder</h3>\n                <p className=\"muted\">Provide letters and find 1–3 word combinations that use all letters.</p>\n                <input ref={comboInputRef} id=\"combo-input\" className=\"input\" placeholder=\"Enter letters or phrase\" />\n                <div className=\"row-sm\">\n                  <label>Max words</label>\n                  <select id=\"combo-maxwords\" defaultValue={2} className=\"select\"><option value={1}>1</option><option value={2}>2</option><option value={3}>3</option></select>\n                  <label>Max results</label>\n                  <input id=\"combo-maxresults\" defaultValue={10} type=\"number\" className=\"select\" style={{width:80}} />\n                </div>\n                <div className=\"actions\" style={{marginTop:8}}>\n                  <button className=\"btn primary\" onClick={findCombinations}>Find</button>\n                  <button className=\"btn\" onClick={() => { comboInputRef.current.value = ''; setComboResults([]); setErrorMessage(null); }}>Reset</button>\n                </div>\n\n                {comboResults && comboResults.length > 0 && (\n                  <div className=\"combo-results\">\n                    {comboResults.map((c,i) => (\n                      <button key={i} className=\"chip\" onClick={() => { setInput(c); setComboResults([]); window.scrollTo({top:0,behavior:'smooth'}); }} title=\"Apply to main input\">{c}</button>\n                    ))}\n                  </div>\n                )}\n\n                {errorMessage && <div className=\"error\" style={{marginTop:8}}>{errorMessage}</div>}\n              </div>\n\n              <div className=\"card stats\">\n                <h4>Quick Actions</h4>\n                <button className=\"btn\" onClick={() => fetch('/api/admin/words?limit=20').then(r => r.json()).then(d => alert(JSON.stringify(d.rows,null,2))).catch(()=>alert('failed'))}>Show 20 words</button>\n              </div>\n            </aside>\n          </div>\n        </section>\n      </main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}