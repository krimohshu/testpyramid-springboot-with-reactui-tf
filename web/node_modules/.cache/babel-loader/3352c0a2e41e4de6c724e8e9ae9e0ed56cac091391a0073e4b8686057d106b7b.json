{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function useDebounced(value,delay){const[debounced,setDebounced]=useState(value);useEffect(()=>{const t=setTimeout(()=>setDebounced(value),delay);return()=>clearTimeout(t);},[value,delay]);return debounced;}function App(){const[input,setInput]=useState('');const debounced=useDebounced(input,300);const[suggestions,setSuggestions]=useState([]);const[isAnagram,setIsAnagram]=useState(null);const[other,setOther]=useState('');const[loading,setLoading]=useState(false);const mounted=useRef(true);useEffect(()=>{mounted.current=true;return()=>{mounted.current=false;};},[]);useEffect(()=>{if(!debounced||debounced.trim().length===0){setSuggestions([]);return;}setLoading(true);fetch(\"/api/suggestions?text=\".concat(encodeURIComponent(debounced),\"&limit=10\")).then(r=>r.json()).then(data=>{if(!mounted.current)return;setSuggestions(data.suggestions||[]);}).catch(()=>setSuggestions([])).finally(()=>{if(mounted.current)setLoading(false);});},[debounced]);function checkAnagram(){fetch('/api/areAnagrams',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({input1:input,input2:other})}).then(r=>r.json()).then(j=>setIsAnagram(Boolean(j.areAnagrams))).catch(()=>setIsAnagram(false));}function applySuggestion(s){setInput(s);setSuggestions([]);}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:{fontFamily:'Arial, sans-serif',padding:20},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Anagram Checker\"}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:680},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Input (type to get suggestions)\"}),/*#__PURE__*/_jsx(\"input\",{value:input,onChange:e=>setInput(e.target.value),placeholder:\"Type a word or phrase...\",style:{width:'100%',padding:'8px 10px',fontSize:16,boxSizing:'border-box'}}),loading&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:6},children:\"Loading suggestions...\"}),suggestions.length>0&&/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:8,marginTop:6,border:'1px solid #eee',borderRadius:6},children:suggestions.map((s,i)=>/*#__PURE__*/_jsx(\"li\",{style:{padding:'6px 8px',cursor:'pointer'},onClick:()=>applySuggestion(s),children:s},i))}),/*#__PURE__*/_jsx(\"div\",{style:{height:16}}),/*#__PURE__*/_jsx(\"label\",{children:\"Compare with (other string)\"}),/*#__PURE__*/_jsx(\"input\",{value:other,onChange:e=>setOther(e.target.value),placeholder:\"Second string to compare...\",style:{width:'100%',padding:'8px 10px',fontSize:16}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12},children:/*#__PURE__*/_jsx(\"button\",{onClick:checkAnagram,style:{padding:'8px 12px',fontSize:16},children:\"Check Anagram\"})}),isAnagram!==null&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12,padding:10,background:isAnagram?'#e6f9ec':'#ffe6e6',borderRadius:6},children:[\"Result: \",/*#__PURE__*/_jsx(\"strong\",{children:isAnagram?'Anagrams':'Not anagrams'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:24},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Quick admin sample\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetch('/api/admin/words?limit=20').then(r=>r.json()).then(d=>alert(JSON.stringify(d.rows,null,2))).catch(e=>alert('failed')),style:{padding:'6px 10px'},children:\"Show 20 words\"})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","useDebounced","value","delay","debounced","setDebounced","t","setTimeout","clearTimeout","App","input","setInput","suggestions","setSuggestions","isAnagram","setIsAnagram","other","setOther","loading","setLoading","mounted","current","trim","length","fetch","concat","encodeURIComponent","then","r","json","data","catch","finally","checkAnagram","method","headers","body","JSON","stringify","input1","input2","j","Boolean","areAnagrams","applySuggestion","s","className","style","fontFamily","padding","children","maxWidth","onChange","e","target","placeholder","width","fontSize","boxSizing","marginTop","listStyle","border","borderRadius","map","i","cursor","onClick","height","background","d","alert","rows"],"sources":["/Users/krishanshukla/IdeaProjects/testpyramid/web/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nfunction useDebounced(value, delay) {\n  const [debounced, setDebounced] = useState(value);\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(t);\n  }, [value, delay]);\n  return debounced;\n}\n\nfunction App() {\n  const [input, setInput] = useState('');\n  const debounced = useDebounced(input, 300);\n  const [suggestions, setSuggestions] = useState([]);\n  const [isAnagram, setIsAnagram] = useState(null);\n  const [other, setOther] = useState('');\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => { mounted.current = false };\n  }, []);\n\n  useEffect(() => {\n    if (!debounced || debounced.trim().length === 0) {\n      setSuggestions([]);\n      return;\n    }\n    setLoading(true);\n    fetch(`/api/suggestions?text=${encodeURIComponent(debounced)}&limit=10`)\n      .then(r => r.json())\n      .then(data => {\n        if (!mounted.current) return;\n        setSuggestions(data.suggestions || []);\n      })\n      .catch(() => setSuggestions([]))\n      .finally(() => { if (mounted.current) setLoading(false); });\n  }, [debounced]);\n\n  function checkAnagram() {\n    fetch('/api/areAnagrams', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ input1: input, input2: other })\n    })\n      .then(r => r.json())\n      .then(j => setIsAnagram(Boolean(j.areAnagrams)))\n      .catch(() => setIsAnagram(false));\n  }\n\n  function applySuggestion(s) {\n    setInput(s);\n    setSuggestions([]);\n  }\n\n  return (\n    <div className=\"App\" style={{ fontFamily: 'Arial, sans-serif', padding: 20 }}>\n      <h2>Anagram Checker</h2>\n      <div style={{ maxWidth: 680 }}>\n        <label>Input (type to get suggestions)</label>\n        <input\n          value={input}\n          onChange={e => setInput(e.target.value)}\n          placeholder=\"Type a word or phrase...\"\n          style={{ width: '100%', padding: '8px 10px', fontSize: 16, boxSizing: 'border-box' }}\n        />\n        {loading && <div style={{ marginTop: 6 }}>Loading suggestions...</div>}\n        {suggestions.length > 0 && (\n          <ul style={{ listStyle: 'none', padding: 8, marginTop: 6, border: '1px solid #eee', borderRadius: 6 }}>\n            {suggestions.map((s, i) => (\n              <li key={i} style={{ padding: '6px 8px', cursor: 'pointer' }} onClick={() => applySuggestion(s)}>{s}</li>\n            ))}\n          </ul>\n        )}\n\n        <div style={{ height: 16 }} />\n        <label>Compare with (other string)</label>\n        <input value={other} onChange={e => setOther(e.target.value)} placeholder=\"Second string to compare...\" style={{ width: '100%', padding: '8px 10px', fontSize: 16 }} />\n        <div style={{ marginTop: 12 }}>\n          <button onClick={checkAnagram} style={{ padding: '8px 12px', fontSize: 16 }}>Check Anagram</button>\n        </div>\n        {isAnagram !== null && (\n          <div style={{ marginTop: 12, padding: 10, background: isAnagram ? '#e6f9ec' : '#ffe6e6', borderRadius: 6 }}>\n            Result: <strong>{isAnagram ? 'Anagrams' : 'Not anagrams'}</strong>\n          </div>\n        )}\n\n        <div style={{ marginTop: 24 }}>\n          <h4>Quick admin sample</h4>\n          <button onClick={() => fetch('/api/admin/words?limit=20').then(r => r.json()).then(d => alert(JSON.stringify(d.rows, null, 2))).catch(e => alert('failed'))} style={{ padding: '6px 10px' }}>Show 20 words</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}